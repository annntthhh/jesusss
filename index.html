<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para Mi Negro Precioso - Noche Mágica</title>
    <link rel="stylesheet" href="./main.css">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    
    <audio id="background-music" loop>
        <source src="./cuco.mp3" type="audio/mp3"> 
        Tu navegador no soporta el elemento de audio.
    </audio>
    
    <p class="sender-top">De Ane.</p>

    <div id="falling-stars-container"></div>

    <div class="stage">
        <div class="envelope">
            <div class="flap"></div>
            <div class="body">
                <div class="card">
                    
                    <h1>Para mi negro precioso</h1> 
                    <p class="message">
                        Te amo muchomuchisimomuchisisisimodemasiadoinfinoultramegaetc mi amor bello, hombre de mi vida, negro precioso, mi corazon, mi todo.
                    </p>
                    <p class="muaaa-text">Muaaa</p> 
                </div>
            </div>
        </div>
        <p class="hint">Pasa el mouse sobre el sobre para ver el mensaje.</p> 
    </div>

    <script>
        const envelope = document.querySelector('.envelope');
        const music = document.getElementById('background-music');
        const fallingStarsContainer = document.getElementById('falling-stars-container'); // NUEVO
        let musicPlayed = false;
        let starsGenerated = false; // NUEVO: Para asegurar que las estrellas caigan una sola vez

        // Abre el sobre al pasar el mouse por encima (hover)
        envelope.addEventListener('mouseenter', function() {
            envelope.classList.add('open');
            
            // Intenta reproducir la música SOLO la primera vez que se abre el sobre
            if (!musicPlayed) {
                music.play().catch(error => {
                    console.log("Música bloqueada por el
